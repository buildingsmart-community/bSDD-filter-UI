import{r as c,u as he,aP as x,aS as pe,aV as me,aW as ge,aX as ve,aY as ye,m as N,f as Se,d as W,e as Pe,k as be,aZ as Ce}from"./defaultSettings-1df5a3d3.js";function we(e,t,n=!0){return{...e,default:t,decode:(...r)=>{const i=e.decode(...r);return i===void 0||n&&i===null?t:i}}}function ee(e,t){if(e==null)return e;if(e.length===0&&(!t||t&&e!==""))return null;const n=e instanceof Array?e[0]:e;return n==null?n:!t&&n===""?null:n}function xe(e){return e==null||e instanceof Array?e:e===""?[]:[e]}function Ue(e){return e==null?e:e?"1":"0"}function De(e){const t=ee(e);return t==null?t:t==="1"?!0:t==="0"?!1:null}function Ne(e){return e==null?e:String(e)}function Oe(e){const t=ee(e,!0);return t==null?t:String(t)}function Ee(e){return e==null,e}function Re(e){const t=xe(e);return t==null,t}const U={encode:Ne,decode:Oe},Ie={encode:Ee,decode:Re},Me={encode:Ue,decode:De};function Te(e){const t=new URLSearchParams,n=Object.entries(e);for(const[a,r]of n)if(r!==void 0&&r!==null)if(Array.isArray(r))for(const i of r)t.append(a,i??"");else t.append(a,r);return t.toString()}'{}[],":'.split("").map(e=>[e,encodeURIComponent(e)]);function _e(e,t){const n={},a=Object.keys(t);for(const r of a){const i=t[r];e[r]?n[r]=e[r].encode(t[r]):n[r]=i==null?i:String(i)}return n}function Ae(e){const t=new URLSearchParams(e),n={};for(let[a,r]of t)Object.prototype.hasOwnProperty.call(n,a)?Array.isArray(n[a])?n[a].push(r):n[a]=[n[a],r]:n[a]=r;return n}class je{constructor(){this.paramsMap=new Map,this.registeredParams=new Map}set(t,n,a,r){this.paramsMap.set(t,{stringified:n,decoded:a,decode:r})}has(t,n,a){if(!this.paramsMap.has(t))return!1;const r=this.paramsMap.get(t);return r?r.stringified===n&&(a==null||r.decode===a):!1}get(t){var n;if(this.paramsMap.has(t))return(n=this.paramsMap.get(t))==null?void 0:n.decoded}registerParams(t){for(const n of t){const a=this.registeredParams.get(n)||0;this.registeredParams.set(n,a+1)}}unregisterParams(t){for(const n of t){const a=(this.registeredParams.get(n)||0)-1;a<=0?(this.registeredParams.delete(n),this.paramsMap.has(n)&&this.paramsMap.delete(n)):this.registeredParams.set(n,a)}}clear(){this.paramsMap.clear(),this.registeredParams.clear()}}const E=new je;function Le(e,t){var n,a,r;const i={};let o=!1;const s=Object.keys(e);let l=s;if(t.includeKnownParams||t.includeKnownParams!==!1&&s.length===0){const d=Object.keys((n=t.params)!=null?n:{});l.push(...d)}for(const d of l){const f=e[d];if(f!=null&&typeof f=="object"){i[d]=f;continue}o=!0,i[d]=(r=(a=t.params)==null?void 0:a[d])!=null?r:U}return o?i:e}function te(e,t,n,a){var r;if(!n||!t.length)return e;let i={...e},o=!1;for(const s of t)Object.prototype.hasOwnProperty.call(i,s)||(i[s]=(r=n[s])!=null?r:a,o=!0);return o?i:e}const ke=Object.prototype.hasOwnProperty;function K(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function ne(e,t,n){var a,r;if(K(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(let s=0;s<i.length;s++){const l=(r=(a=n?.[i[s]])==null?void 0:a.equals)!=null?r:K;if(!ke.call(t,i[s])||!l(e[i[s]],t[i[s]]))return!1}return!0}function ae(e,t,n){const a={},r=Object.keys(t);for(const i of r){const o=t[i],s=e[i];let l;if(n.has(i,s,o.decode))l=n.get(i);else{if(l=o.decode(s),o.equals&&n.has(i,s)){const u=n.get(i);o.equals(l,u)&&(l=u)}l!==void 0&&n.set(i,s,l,o.decode)}l===void 0&&o.default!==void 0&&(l=o.default),a[i]=l}return a}function Qe(){let e;function t(n,a,r){const i=ae(n,a,r);return e!=null&&ne(e,i)?e:(e=i,i)}return t}function Ve(e){let t;for(const n in e)if(e[n].urlName){const r=`${e[n].urlName}\0${n}`;t?t.push(r):t=[r]}return t?t.join(`
`):void 0}function Be(e){if(e)return Object.fromEntries(e.split(`
`).map(t=>t.split("\0")))}function We(e,t){var n;let a={};for(const r in e)((n=t[r])==null?void 0:n.urlName)!=null?a[t[r].urlName]=e[r]:a[r]=e[r];return a}let $,J,q,_={};const re=(e,t,n)=>{if($===t&&q===e&&J===n)return _;$=t,q=e;const a=e(t??"");J=n;const r=Be(n);for(let[i,o]of Object.entries(a)){r?.[i]&&(delete a[i],i=r[i],a[i]=o);const s=_[i];ne(o,s)&&(a[i]=s)}return _=a,a},Ke={searchStringToObject:Ae,objectToSearchString:Te,updateType:"pushIn",includeKnownParams:void 0,includeAllParams:!1,removeDefaultsFromUrl:!1,enableBatching:!1,skipUpdateWhenNoChange:!0};function ie(e,t){t==null&&(t={});const n={...e,...t};return t.params&&e.params&&(n.params={...e.params,...t.params}),n}const se={adapter:{},options:Ke},j=c.createContext(se);function $e(){const e=c.useContext(j);if(e===void 0||e===se)throw new Error("useQueryParams must be used within a QueryParamProvider");return e}function z({children:e,adapter:t,options:n}){const{adapter:a,options:r}=c.useContext(j),i=c.useMemo(()=>({adapter:t??a,options:ie(r,n)}),[t,n,a,r]);return c.createElement(j.Provider,{value:i},e)}function wt({children:e,adapter:t,options:n}){const a=t;return a?c.createElement(a,null,r=>c.createElement(z,{adapter:r,options:n},e)):c.createElement(z,{options:n},e)}function Je(e,t){var n;for(const a in e)((n=t[a])==null?void 0:n.default)!==void 0&&e[a]!==void 0&&t[a].encode(t[a].default)===e[a]&&(e[a]=void 0)}function qe({changes:e,updateType:t,currentSearchString:n,paramConfigMap:a,options:r}){const{searchStringToObject:i,objectToSearchString:o}=r;t==null&&(t=r.updateType);let s;const l=re(i,n),u=te(a,Object.keys(e),r.params);let d;if(typeof e=="function"){const S=ae(l,u,E);d=e(S)}else d=e;s=_e(u,d),r.removeDefaultsFromUrl&&Je(s,u),s=We(s,u);let f;return t==="push"||t==="replace"?f=o(s):f=o({...l,...s}),f?.length&&f[0]!=="?"&&(f=`?${f}`),f??""}function ze({searchString:e,adapter:t,navigate:n,updateType:a}){const i={...t.location,search:e};n&&(typeof a=="string"&&a.startsWith("replace")?t.replace(i):t.push(i))}const Fe=e=>e(),Ge=e=>setTimeout(()=>e(),0),O=[];function Xe(e,{immediate:t}={}){O.push(e);let n=t?Fe:Ge;O.length===1&&n(()=>{const a=O.slice();O.length=0;const r=a[0].currentSearchString;let i;for(let o=0;o<a.length;++o){const s=o===0?a[o]:{...a[o],currentSearchString:i};i=qe(s)}e.options.skipUpdateWhenNoChange&&i===r||ze({searchString:i??"",adapter:a[a.length-1].adapter,navigate:!0,updateType:a[a.length-1].updateType})})}function Ye(e,t){const{adapter:n,options:a}=$e(),[r]=c.useState(Qe),{paramConfigMap:i,options:o}=Ze(e,t),s=c.useMemo(()=>ie(a,o),[a,o]);let l=Le(i,s);const u=re(s.searchStringToObject,n.location.search,Ve(l));s.includeAllParams&&(l=te(l,Object.keys(u),s.params,U));const d=r(u,l,E),f=Object.keys(l).join("\0");c.useEffect(()=>{const g=f.split("\0");return E.registerParams(g),()=>{E.unregisterParams(g)}},[f]);const S={adapter:n,paramConfigMap:l,options:s},p=c.useRef(S);p.current==null&&(p.current=S),c.useEffect(()=>{p.current.adapter=n,p.current.paramConfigMap=l,p.current.options=s},[n,l,s]);const[m]=c.useState(()=>(h,v)=>{const{adapter:y,paramConfigMap:w,options:b}=p.current;v==null&&(v=b.updateType),Xe({changes:h,updateType:v,currentSearchString:y.location.search,paramConfigMap:w,options:b,adapter:y},{immediate:!b.enableBatching})});return[d,m]}function Ze(e,t){let n,a;return e===void 0?(n={},a=t):Array.isArray(e)?(n=Object.fromEntries(e.map(r=>[r,"inherit"])),a=t):(n=e,a=t),{paramConfigMap:n,options:a}}const xt=()=>{const e=he(),t=x(pe),n=x(me),a=x(ge),r=x(ve),i=x(ye),[o,s]=Ye({mainDictionary:U,ifcDictionary:U,filterDictionaries:we(Ie,[]),language:U,includeTestDictionaries:Me});c.useRef(!0);const l=async()=>{if(!Object.values(o).some(m=>Array.isArray(m)?m.length>0:m!=null&&m!==""))await e(W(Pe));else{const m={mainDictionary:o.mainDictionary?{ifcClassification:{type:"IfcClassification",location:o.mainDictionary}}:null,ifcDictionary:o.ifcDictionary?{ifcClassification:{type:"IfcClassification",location:o.ifcDictionary}}:null,filterDictionaries:o.filterDictionaries.map(g=>({ifcClassification:{type:"IfcClassification",location:g}})),language:o.language||"en-GB",includeTestDictionaries:o.includeTestDictionaries||!1};await e(W(m))}N.propertyIsInstanceMap&&await e(be(N.propertyIsInstanceMap))};return c.useEffect(()=>{l().then(()=>{N.ifcData&&e(Se(N.ifcData))})},[]),c.useMemo(()=>({mainDictionary:t,ifcDictionary:n,filterDictionaries:a,language:r,includeTestDictionaries:i}),[t,n,a,r,i]),c.useEffect(()=>{const p={mainDictionary:t?.ifcClassification.location,ifcDictionary:n?.ifcClassification.location,filterDictionaries:a.map(m=>m.ifcClassification.location),language:r,includeTestDictionaries:i};JSON.stringify(o)!==JSON.stringify(p)&&s(p)},[t,n,a,r,i,s,o]),{bsddSearch:p=>{console.log("bsddSearch called with:",p)},bsddSelect:p=>{console.log("bsddSelect called with:",p)},bsddSearchSave:p=>(console.log("bsddSearchSave called with:",p),Promise.resolve("success")),bsddSearchCancel:()=>{console.log("bsddSearchCancel called")}}};/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},D.apply(this,arguments)}var C;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(C||(C={}));const F="popstate";function He(e){e===void 0&&(e={});function t(a,r){let{pathname:i,search:o,hash:s}=a.location;return L("",{pathname:i,search:o,hash:s},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(a,r){return typeof r=="string"?r:oe(r)}return tt(t,n,null,e)}function P(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function et(){return Math.random().toString(36).substr(2,8)}function G(e,t){return{usr:e.state,key:e.key,idx:t}}function L(e,t,n,a){return n===void 0&&(n=null),D({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?I(t):t,{state:n,key:t&&t.key||a||et()})}function oe(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function I(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function tt(e,t,n,a){a===void 0&&(a={});let{window:r=document.defaultView,v5Compat:i=!1}=a,o=r.history,s=C.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(D({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=C.Pop;let h=d(),v=h==null?null:h-u;u=h,l&&l({action:s,location:g.location,delta:v})}function S(h,v){s=C.Push;let y=L(g.location,h,v);n&&n(y,h),u=d()+1;let w=G(y,u),b=g.createHref(y);try{o.pushState(w,"",b)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;r.location.assign(b)}i&&l&&l({action:s,location:g.location,delta:1})}function p(h,v){s=C.Replace;let y=L(g.location,h,v);n&&n(y,h),u=d();let w=G(y,u),b=g.createHref(y);o.replaceState(w,"",b),i&&l&&l({action:s,location:g.location,delta:0})}function m(h){let v=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof h=="string"?h:oe(h);return y=y.replace(/ $/,"%20"),P(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return s},get location(){return e(r,o)},listen(h){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(F,f),l=h,()=>{r.removeEventListener(F,f),l=null}},createHref(h){return t(r,h)},createURL:m,encodeLocation(h){let v=m(h);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:S,replace:p,go(h){return o.go(h)}};return g}var X;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(X||(X={}));function nt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function at(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:r=""}=typeof e=="string"?I(e):e;return{pathname:n?n.startsWith("/")?n:rt(n,t):t,search:ct(a),hash:ut(r)}}function rt(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function A(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function it(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function st(e,t){let n=it(e);return t?n.map((a,r)=>r===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function ot(e,t,n,a){a===void 0&&(a=!1);let r;typeof e=="string"?r=I(e):(r=D({},e),P(!r.pathname||!r.pathname.includes("?"),A("?","pathname","search",r)),P(!r.pathname||!r.pathname.includes("#"),A("#","pathname","hash",r)),P(!r.search||!r.search.includes("#"),A("#","search","hash",r)));let i=e===""||r.pathname==="",o=i?"/":r.pathname,s;if(o==null)s=n;else{let f=t.length-1;if(!a&&o.startsWith("..")){let S=o.split("/");for(;S[0]==="..";)S.shift(),f-=1;r.pathname=S.join("/")}s=f>=0?t[f]:"/"}let l=at(r,s),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const lt=e=>e.join("/").replace(/\/\/+/g,"/"),ct=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ut=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,le=["post","put","patch","delete"];new Set(le);const ft=["get",...le];new Set(ft);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},R.apply(this,arguments)}const k=c.createContext(null),M=c.createContext(null),Q=c.createContext(null),V=c.createContext({outlet:null,matches:[],isDataRoute:!1});function B(){return c.useContext(Q)!=null}function ce(){return B()||P(!1),c.useContext(Q).location}function ue(e){c.useContext(M).static||c.useLayoutEffect(e)}function dt(){let{isDataRoute:e}=c.useContext(V);return e?vt():ht()}function ht(){B()||P(!1);let e=c.useContext(k),{basename:t,future:n,navigator:a}=c.useContext(M),{matches:r}=c.useContext(V),{pathname:i}=ce(),o=JSON.stringify(st(r,n.v7_relativeSplatPath)),s=c.useRef(!1);return ue(()=>{s.current=!0}),c.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){a.go(u);return}let f=ot(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:lt([t,f.pathname])),(d.replace?a.replace:a.push)(f,d.state,d)},[t,a,o,i,e])}var fe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fe||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function pt(e){let t=c.useContext(k);return t||P(!1),t}function mt(e){let t=c.useContext(V);return t||P(!1),t}function gt(e){let t=mt(),n=t.matches[t.matches.length-1];return n.route.id||P(!1),n.route.id}function vt(){let{router:e}=pt(fe.UseNavigateStable),t=gt(de.UseNavigateStable),n=c.useRef(!1);return ue(()=>{n.current=!0}),c.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,R({fromRouteId:t},i)))},[e,t])}function yt(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function St(e){let{basename:t="/",children:n=null,location:a,navigationType:r=C.Pop,navigator:i,static:o=!1,future:s}=e;B()&&P(!1);let l=t.replace(/^\/*/,"/"),u=c.useMemo(()=>({basename:l,navigator:i,static:o,future:R({v7_relativeSplatPath:!1},s)}),[l,s,i,o]);typeof a=="string"&&(a=I(a));let{pathname:d="/",search:f="",hash:S="",state:p=null,key:m="default"}=a,g=c.useMemo(()=>{let h=nt(d,l);return h==null?null:{location:{pathname:h,search:f,hash:S,state:p,key:m},navigationType:r}},[l,d,f,S,p,m,r]);return g==null?null:c.createElement(M.Provider,{value:u},c.createElement(Q.Provider,{children:n,value:g}))}new Promise(()=>{});/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Pt="6";try{window.__reactRouterVersion=Pt}catch{}const bt="startTransition",Y=Ce[bt];function Ut(e){let{basename:t,children:n,future:a,window:r}=e,i=c.useRef();i.current==null&&(i.current=He({window:r,v5Compat:!0}));let o=i.current,[s,l]=c.useState({action:o.action,location:o.location}),{v7_startTransition:u}=a||{},d=c.useCallback(f=>{u&&Y?Y(()=>l(f)):l(f)},[l,u]);return c.useLayoutEffect(()=>o.listen(d),[o,d]),c.useEffect(()=>yt(a),[a]),c.createElement(St,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o,future:a})}var Z;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Z||(Z={}));var H;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(H||(H={}));const Dt=({children:e})=>{var t;const{navigator:n}=c.useContext(M),a=dt(),r=(t=c.useContext(k))==null?void 0:t.router,i=ce();return e({replace(s){a(s.search||"?",{replace:!0,state:s.state})},push(s){a(s.search||"?",{replace:!1,state:s.state})},get location(){var s,l,u;return(u=(l=(s=r?.state)==null?void 0:s.location)!=null?l:n?.location)!=null?u:i}})};export{Ut as B,wt as Q,Dt as R,xt as u};
